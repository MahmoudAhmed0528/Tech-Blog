<style>
  body { margin-bottom: 50px; }
</style>
<h1 class="mb-4">Dashboard</h1>
<h2 class="mb-4">Welcome : {{myUser}}</h2>

{{#each posts}}
  <div class="card mb-4">
    <div class="card-body">
      <h2 class="card-title">{{title}}</h2>
      <p class="card-text">{{post_text}}</p>
      <p class="card-text"><small class="text-muted">Created by:
          {{user.username}}</small></p>

      <div class="mt-3">
        {{#if canEditPost}}
          <a href="/edit-post/{{id}}" class="btn btn-info btn-sm">Edit Post</a>
          <a
            href="/delete-post/{{id}}"
            class="btn btn-danger btn-sm delete-post-btn"
            data-post-id="{{id}}"
          >Delete Post</a>
        {{/if}}

      </div>

      <!-- Display Comments -->
      <h3 class="mt-3">Comments:</h3>
      {{#each comments}}
        <p class="card-text">{{comment_text}} by {{user.username}}</p>
        {{#if canEditComment}}
          <a href="/edit-comment/{{id}}" class="btn btn-secondary btn-sm">Edit
            Comment</a>
        {{/if}}

      {{/each}}
      <a href="/add-comment/{{id}}" class="btn btn-secondary btn-sm">Add Comment</a>
    </div>
  </div>
{{/each}}

<a href="/add-post" class="btn btn-primary">Add Post</a>

<script src="/javascript/delete-post.js"></script>